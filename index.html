<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>●</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000;
            overflow: hidden;
            height: 100vh;
            cursor: none;
        }
        
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4;
        }
        
        /* Эффекты вируса */
        .virus {
            position: fixed;
            pointer-events: none;
            z-index: 1;
            border-radius: 50%;
            mix-blend-mode: screen;
        }
        
        .worm {
            position: fixed;
            pointer-events: none;
            z-index: 2;
            background-color: #0f0;
            border-radius: 10px;
            box-shadow: 0 0 20px #0f0;
        }
        
        .hole {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            background: radial-gradient(circle, rgba(0,255,0,0.3) 0%, rgba(0,0,0,0) 70%);
            box-shadow: 
                inset 0 0 100px rgba(0, 255, 0, 0.5),
                0 0 200px rgba(0, 255, 0, 0.8);
            border: 3px solid #0f0;
            animation: pulse 3s infinite;
        }
        
        .glitch-line {
            position: fixed;
            background-color: #0f0;
            pointer-events: none;
            z-index: 4;
            opacity: 0.7;
            animation: glitchMove 2s infinite linear;
        }
        
        .infected-pixel {
            position: fixed;
            background-color: #f00;
            pointer-events: none;
            z-index: 5;
            animation: pixelFade 3s infinite;
        }
        
        .cursor {
            position: fixed;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #0f0;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            animation: cursorPulse 1s infinite;
        }
        
        /* Анимации */
        @keyframes pulse {
            0% { box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.5), 0 0 200px rgba(0, 255, 0, 0.8); }
            50% { box-shadow: inset 0 0 150px rgba(0, 255, 0, 0.7), 0 0 250px rgba(0, 255, 0, 1); }
            100% { box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.5), 0 0 200px rgba(0, 255, 0, 0.8); }
        }
        
        @keyframes cursorPulse {
            0% { transform: scale(1); opacity: 0.7; box-shadow: 0 0 10px #0f0; }
            50% { transform: scale(1.5); opacity: 1; box-shadow: 0 0 30px #0f0; }
            100% { transform: scale(1); opacity: 0.7; box-shadow: 0 0 10px #0f0; }
        }
        
        @keyframes glitchMove {
            0% { transform: translateY(-100px); }
            100% { transform: translateY(100vh); }
        }
        
        @keyframes pixelFade {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        
        @keyframes wormMove {
            0% { transform: translateX(0) rotate(0deg); }
            100% { transform: translateX(100vw) rotate(360deg); }
        }
        
        .glitch {
            animation: glitchEffect 0.5s infinite;
        }
        
        @keyframes glitchEffect {
            0% { transform: translate(0); filter: hue-rotate(0deg); }
            20% { transform: translate(-2px, 2px); filter: hue-rotate(90deg); }
            40% { transform: translate(-2px, -2px); filter: hue-rotate(180deg); }
            60% { transform: translate(2px, 2px); filter: hue-rotate(270deg); }
            80% { transform: translate(2px, -2px); filter: hue-rotate(360deg); }
            100% { transform: translate(0); filter: hue-rotate(0deg); }
        }
        
        .data-fragment {
            position: fixed;
            color: #0f0;
            font-family: monospace;
            pointer-events: none;
            z-index: 6;
            opacity: 0.7;
            font-size: 16px;
            text-shadow: 0 0 10px #0f0;
        }
        
        .corrupted-line {
            position: fixed;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, #0f0, transparent);
            pointer-events: none;
            z-index: 7;
            opacity: 0.5;
            animation: scanline 3s linear infinite;
        }
        
        @keyframes scanline {
            0% { top: 0%; }
            100% { top: 100%; }
        }
    </style>
</head>
<body class="glitch">
    <canvas class="matrix-bg" id="matrix-bg"></canvas>
    
    <div class="cursor" id="cursor"></div>

    <script>
        // Элементы DOM
        const matrixBg = document.getElementById('matrix-bg');
        const cursor = document.getElementById('cursor');
        
        // Контекст для матричного фона
        const ctx = matrixBg.getContext('2d');
        
        // Переменные состояния
        let worms = [];
        let viruses = [];
        let holes = [];
        let glitchLines = [];
        let infectedPixels = [];
        let dataFragments = [];
        let corruptedLines = [];
        let holeSize = 200;
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        
        // Настройки canvas
        matrixBg.width = window.innerWidth;
        matrixBg.height = window.innerHeight;
        
        // Создание матричного фона
        function createMatrixBackground() {
            const letters = "010011010101001100110101";
            const fontSize = 18;
            const columns = matrixBg.width / fontSize;
            const drops = [];
            
            for(let i = 0; i < columns; i++) {
                drops[i] = Math.floor(Math.random() * matrixBg.height / fontSize) * fontSize;
            }
            
            function drawMatrix() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.03)';
                ctx.fillRect(0, 0, matrixBg.width, matrixBg.height);
                
                // Случайный цвет для символов
                const greenShades = ['#0f0', '#0c0', '#090', '#0f9', '#0f6'];
                ctx.fillStyle = greenShades[Math.floor(Math.random() * greenShades.length)];
                ctx.font = `bold ${fontSize}px monospace`;
                
                for(let i = 0; i < drops.length; i++) {
                    const text = letters[Math.floor(Math.random() * letters.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    
                    // Случайное исчезновение и появление
                    if(drops[i] * fontSize > matrixBg.height && Math.random() > 0.95) {
                        drops[i] = 0;
                    }
                    
                    drops[i] += Math.random() * 1.5 + 0.5;
                }
            }
            
            setInterval(drawMatrix, 50);
            
            window.addEventListener('resize', () => {
                matrixBg.width = window.innerWidth;
                matrixBg.height = window.innerHeight;
            });
        }
        
        // Создание червячка
        function createWorm() {
            const worm = document.createElement('div');
            worm.className = 'worm';
            
            // Случайная начальная позиция
            const startX = Math.random() * window.innerWidth;
            const startY = Math.random() * window.innerHeight;
            
            worm.style.left = `${startX}px`;
            worm.style.top = `${startY}px`;
            
            // Случайный цвет
            const hue = Math.floor(Math.random() * 120 + 60);
            worm.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
            
            // Случайная длина и толщина
            const length = Math.random() * 250 + 150;
            const thickness = Math.random() * 12 + 8;
            
            worm.style.width = `${length}px`;
            worm.style.height = `${thickness}px`;
            
            // Случайное направление и анимация
            const angle = Math.random() * Math.PI * 2;
            const duration = Math.random() * 8 + 5;
            worm.style.transform = `rotate(${angle}rad)`;
            worm.style.animation = `wormMove ${duration}s infinite linear`;
            
            document.body.appendChild(worm);
            worms.push(worm);
            
            // Автоматическое удаление через некоторое время и создание нового
            setTimeout(() => {
                if (document.body.contains(worm)) {
                    document.body.removeChild(worm);
                    worms = worms.filter(w => w !== worm);
                    createWorm(); // Создаем нового червячка
                }
            }, 15000 + Math.random() * 10000);
        }
        
        // Создание вируса
        function createVirus() {
            const virus = document.createElement('div');
            virus.className = 'virus';
            
            // Случайная позиция
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            
            virus.style.left = `${x}px`;
            virus.style.top = `${y}px`;
            
            // Случайный размер
            const size = Math.random() * 200 + 100;
            virus.style.width = `${size}px`;
            virus.style.height = `${size}px`;
            
            // Случайный цвет
            const hue = Math.floor(Math.random() * 360);
            virus.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
            
            // Случайная форма
            const shapes = ['50%', '30%', '10%', '0%', '40% 60%'];
            virus.style.borderRadius = shapes[Math.floor(Math.random() * shapes.length)];
            
            virus.style.opacity = Math.random() * 0.7 + 0.3;
            
            // Пульсация
            let scale = 1;
            let growing = true;
            
            function pulseVirus() {
                if (growing) {
                    scale += 0.003;
                    if (scale >= 1.8) growing = false;
                } else {
                    scale -= 0.003;
                    if (scale <= 0.3) growing = true;
                }
                
                virus.style.transform = `scale(${scale}) rotate(${scale * 20}deg)`;
                
                if (document.body.contains(virus)) {
                    requestAnimationFrame(pulseVirus);
                }
            }
            
            pulseVirus();
            
            document.body.appendChild(virus);
            viruses.push(virus);
            
            // Автоматическое удаление через некоторое время и создание нового
            setTimeout(() => {
                if (document.body.contains(virus)) {
                    document.body.removeChild(virus);
                    viruses = viruses.filter(v => v !== virus);
                    createVirus(); // Создаем новый вирус
                }
            }, 8000 + Math.random() * 7000);
        }
        
        // Создание дыры
        function createHole() {
            // Удаляем старую дыру, если есть
            holes.forEach(hole => {
                if (document.body.contains(hole)) {
                    document.body.removeChild(hole);
                }
            });
            
            holes = [];
            
            const hole = document.createElement('div');
            hole.className = 'hole';
            
            hole.style.width = `${holeSize}px`;
            hole.style.height = `${holeSize}px`;
            hole.style.left = `${mouseX - holeSize/2}px`;
            hole.style.top = `${mouseY - holeSize/2}px`;
            
            document.body.appendChild(hole);
            holes.push(hole);
        }
        
        // Создание линий глитча
        function createGlitchLine() {
            const line = document.createElement('div');
            line.className = 'glitch-line';
            
            const x = Math.random() * window.innerWidth;
            const width = Math.random() * 8 + 2;
            const height = Math.random() * 150 + 80;
            
            line.style.left = `${x}px`;
            line.style.top = `-150px`;
            line.style.width = `${width}px`;
            line.style.height = `${height}px`;
            
            // Случайный цвет
            const colors = ['#0f0', '#f00', '#0ff', '#f0f', '#ff0'];
            line.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // Случайная скорость
            const duration = Math.random() * 2.5 + 1;
            line.style.animation = `glitchMove ${duration}s infinite linear`;
            
            document.body.appendChild(line);
            glitchLines.push(line);
            
            // Автоматическое удаление и создание новой линии
            setTimeout(() => {
                if (document.body.contains(line)) {
                    document.body.removeChild(line);
                    glitchLines = glitchLines.filter(l => l !== line);
                    createGlitchLine();
                }
            }, 3000);
        }
        
        // Создание зараженных пикселей
        function createInfectedPixel() {
            const pixel = document.createElement('div');
            pixel.className = 'infected-pixel';
            
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            const size = Math.random() * 15 + 5;
            
            pixel.style.left = `${x}px`;
            pixel.style.top = `${y}px`;
            pixel.style.width = `${size}px`;
            pixel.style.height = `${size}px`;
            
            // Случайная форма
            pixel.style.borderRadius = Math.random() > 0.5 ? '50%' : '0%';
            
            // Случайная длительность анимации
            const duration = Math.random() * 4 + 1;
            pixel.style.animation = `pixelFade ${duration}s infinite`;
            
            document.body.appendChild(pixel);
            infectedPixels.push(pixel);
            
            // Автоматическое удаление и создание нового пикселя
            setTimeout(() => {
                if (document.body.contains(pixel)) {
                    document.body.removeChild(pixel);
                    infectedPixels = infectedPixels.filter(p => p !== pixel);
                    createInfectedPixel();
                }
            }, 5000);
        }
        
        // Создание фрагментов данных (двоичный код)
        function createDataFragment() {
            const fragment = document.createElement('div');
            fragment.className = 'data-fragment';
            
            // Случайный двоичный код
            const binaryStrings = [
                "01001000 01000001 01000011 01001011", // HACK
                "10110110 01101101 11011010 10110101", // Случайные данные
                "11111111 00000000 11110000 00001111", // Шаблон
                "01010101 00110011 00001111 11110000"  // Еще шаблон
            ];
            
            fragment.textContent = binaryStrings[Math.floor(Math.random() * binaryStrings.length)];
            
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            
            fragment.style.left = `${x}px`;
            fragment.style.top = `${y}px`;
            
            // Дрейф
            let driftX = (Math.random() - 0.5) * 2;
            let driftY = (Math.random() - 0.5) * 2;
            
            function driftFragment() {
                x += driftX;
                y += driftY;
                
                // Отскок от границ
                if (x < 0 || x > window.innerWidth - 200) driftX = -driftX;
                if (y < 0 || y > window.innerHeight - 50) driftY = -driftY;
                
                fragment.style.left = `${x}px`;
                fragment.style.top = `${y}px`;
                
                // Мигание
                fragment.style.opacity = 0.3 + Math.sin(Date.now() * 0.005) * 0.4;
                
                if (document.body.contains(fragment)) {
                    requestAnimationFrame(driftFragment);
                }
            }
            
            driftFragment();
            
            document.body.appendChild(fragment);
            dataFragments.push(fragment);
            
            // Автоматическое удаление через некоторое время
            setTimeout(() => {
                if (document.body.contains(fragment)) {
                    document.body.removeChild(fragment);
                    dataFragments = dataFragments.filter(f => f !== fragment);
                }
            }, 10000 + Math.random() * 10000);
        }
        
        // Создание коррумпированных линий (сканирующие линии)
        function createCorruptedLine() {
            const line = document.createElement('div');
            line.className = 'corrupted-line';
            
            line.style.top = `${Math.random() * 100}%`;
            
            // Случайная толщина
            const height = Math.random() * 3 + 1;
            line.style.height = `${height}px`;
            
            // Случайная скорость
            const duration = Math.random() * 5 + 3;
            line.style.animation = `scanline ${duration}s linear infinite`;
            
            document.body.appendChild(line);
            corruptedLines.push(line);
            
            // Автоматическое удаление и создание новой линии
            setTimeout(() => {
                if (document.body.contains(line)) {
                    document.body.removeChild(line);
                    corruptedLines = corruptedLines.filter(l => l !== line);
                    createCorruptedLine();
                }
            }, duration * 1000);
        }
        
        // Функция полного заражения
        function fullInfection() {
            // Создаем матричный фон
            createMatrixBackground();
            
            // Создаем дыру
            createHole();
            
            // Создаем много червячков
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createWorm(), i * 200);
            }
            
            // Создаем много вирусов
            for (let i = 0; i < 25; i++) {
                setTimeout(() => createVirus(), i * 150);
            }
            
            // Создаем линии глитча
            for (let i = 0; i < 15; i++) {
                setTimeout(() => createGlitchLine(), i * 300);
            }
            
            // Создаем зараженные пиксели
            for (let i = 0; i < 40; i++) {
                setTimeout(() => createInfectedPixel(), i * 200);
            }
            
            // Создаем фрагменты данных
            for (let i = 0; i < 10; i++) {
                setTimeout(() => createDataFragment(), i * 800);
            }
            
            // Создаем коррумпированные линии
            for (let i = 0; i < 5; i++) {
                setTimeout(() => createCorruptedLine(), i * 1000);
            }
            
            // Автоматическое добавление новых эффектов
            setInterval(() => {
                if (Math.random() > 0.6) createWorm();
                if (Math.random() > 0.4) createVirus();
                if (Math.random() > 0.7) createGlitchLine();
                if (Math.random() > 0.5) createInfectedPixel();
                if (Math.random() > 0.3) createDataFragment();
                if (Math.random() > 0.2) createCorruptedLine();
            }, 1500);
        }
        
        // Обработчики событий мыши
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Обновляем позицию курсора
            cursor.style.left = `${mouseX - 15}px`;
            cursor.style.top = `${mouseY - 15}px`;
            
            // Обновляем позицию дыры
            if (holes.length > 0) {
                holes[0].style.left = `${mouseX - holeSize/2}px`;
                holes[0].style.top = `${mouseY - holeSize/2}px`;
            }
            
            // Случайное создание эффектов при движении мыши
            if (Math.random() > 0.93) createVirus();
            if (Math.random() > 0.95) createInfectedPixel();
            if (Math.random() > 0.98) createGlitchLine();
        });
        
        document.addEventListener('wheel', (e) => {
            // Изменяем размер дыры колесиком мыши
            holeSize += e.deltaY > 0 ? -25 : 25;
            holeSize = Math.max(50, Math.min(500, holeSize));
            
            createHole();
        });
        
        // Обработчик клика - усиливает заражение
        document.addEventListener('click', (e) => {
            // Создаем взрыв вирусов при клике
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const virus = document.createElement('div');
                    virus.className = 'virus';
                    
                    virus.style.left = `${e.clientX + (Math.random() - 0.5) * 300}px`;
                    virus.style.top = `${e.clientY + (Math.random() - 0.5) * 300}px`;
                    
                    const size = Math.random() * 100 + 60;
                    virus.style.width = `${size}px`;
                    virus.style.height = `${size}px`;
                    
                    const hue = Math.floor(Math.random() * 360);
                    virus.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
                    virus.style.borderRadius = '50%';
                    virus.style.opacity = 0.8;
                    
                    document.body.appendChild(virus);
                    viruses.push(virus);
                    
                    // Анимация взрыва
                    let scale = 0.1;
                    function explode() {
                        scale += 0.15;
                        virus.style.transform = `scale(${scale}) rotate(${scale * 30}deg)`;
                        virus.style.opacity = 1 - scale/8;
                        
                        if (scale < 6) {
                            requestAnimationFrame(explode);
                        } else {
                            if (document.body.contains(virus)) {
                                document.body.removeChild(virus);
                                viruses = viruses.filter(v => v !== virus);
                            }
                        }
                    }
                    
                    explode();
                }, i * 80);
            }
            
            // Создаем червячков от точки клика
            for (let i = 0; i < 3; i++) {
                setTimeout(() => {
                    const worm = document.createElement('div');
                    worm.className = 'worm';
                    
                    worm.style.left = `${e.clientX}px`;
                    worm.style.top = `${e.clientY}px`;
                    
                    const hue = Math.floor(Math.random() * 120 + 60);
                    worm.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
                    
                    const length = Math.random() * 200 + 100;
                    const thickness = Math.random() * 10 + 5;
                    
                    worm.style.width = `${length}px`;
                    worm.style.height = `${thickness}px`;
                    
                    const angle = Math.random() * Math.PI * 2;
                    const duration = Math.random() * 8 + 5;
                    worm.style.transform = `rotate(${angle}rad)`;
                    worm.style.animation = `wormMove ${duration}s infinite linear`;
                    
                    document.body.appendChild(worm);
                    worms.push(worm);
                    
                    // Автоматическое удаление через некоторое время
                    setTimeout(() => {
                        if (document.body.contains(worm)) {
                            document.body.removeChild(worm);
                            worms = worms.filter(w => w !== worm);
                        }
                    }, 12000);
                }, i * 200);
            }
        });
        
        // Инициализация - сразу запускаем полное заражение
        function init() {
            fullInfection();
            
            // Случайное изменение размера дыры
            setInterval(() => {
                if (Math.random() > 0.8) {
                    holeSize += (Math.random() - 0.5) * 60;
                    holeSize = Math.max(100, Math.min(400, holeSize));
                    createHole();
                }
            }, 2000);
            
            // Случайное изменение цвета курсора
            setInterval(() => {
                const colors = ['#0f0', '#f00', '#0ff', '#ff0', '#f0f'];
                cursor.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            }, 1000);
        }
        
        // Запуск при загрузке
        window.addEventListener('load', init);
    </script>
</body>
</html>
