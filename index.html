<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ПОЛНОЕ ЗАРАЖЕНИЕ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            overflow: hidden;
            height: 100vh;
            cursor: none;
        }
        
        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.3;
        }
        
        .status {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: rgba(0, 20, 0, 0.8);
            border: 2px solid #0f0;
            border-radius: 5px;
            padding: 15px;
            z-index: 1000;
            font-size: 1.2rem;
            line-height: 1.5;
            text-shadow: 0 0 10px #0f0;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
        }
        
        .warning {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            text-align: center;
            z-index: 1000;
            text-shadow: 0 0 20px #f00;
            color: #f00;
            animation: warningPulse 1s infinite;
            pointer-events: none;
        }
        
        .title {
            position: fixed;
            top: 20px;
            left: 20px;
            font-size: 2rem;
            text-shadow: 0 0 10px #0f0;
            z-index: 1000;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 10px;
            border-radius: 5px;
            border: 2px solid #0f0;
        }
        
        /* Эффекты вируса */
        .virus {
            position: fixed;
            pointer-events: none;
            z-index: 1;
            border-radius: 50%;
            mix-blend-mode: screen;
        }
        
        .worm {
            position: fixed;
            pointer-events: none;
            z-index: 2;
            background-color: #0f0;
            border-radius: 10px;
            box-shadow: 0 0 20px #0f0;
        }
        
        .hole {
            position: fixed;
            border-radius: 50%;
            pointer-events: none;
            z-index: 3;
            background: radial-gradient(circle, rgba(0,255,0,0.3) 0%, rgba(0,0,0,0) 70%);
            box-shadow: 
                inset 0 0 100px rgba(0, 255, 0, 0.5),
                0 0 200px rgba(0, 255, 0, 0.8);
            border: 3px solid #0f0;
            animation: pulse 3s infinite;
        }
        
        .glitch-line {
            position: fixed;
            background-color: #0f0;
            pointer-events: none;
            z-index: 4;
            opacity: 0.7;
            animation: glitchMove 2s infinite linear;
        }
        
        .infected-pixel {
            position: fixed;
            background-color: #f00;
            pointer-events: none;
            z-index: 5;
            animation: pixelFade 3s infinite;
        }
        
        .cursor {
            position: fixed;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #0f0;
            pointer-events: none;
            z-index: 9999;
            mix-blend-mode: difference;
            animation: cursorPulse 1s infinite;
        }
        
        /* Анимации */
        @keyframes warningPulse {
            0% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); }
            100% { opacity: 0.3; transform: translate(-50%, -50%) scale(1); }
        }
        
        @keyframes pulse {
            0% { box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.5), 0 0 200px rgba(0, 255, 0, 0.8); }
            50% { box-shadow: inset 0 0 150px rgba(0, 255, 0, 0.7), 0 0 250px rgba(0, 255, 0, 1); }
            100% { box-shadow: inset 0 0 100px rgba(0, 255, 0, 0.5), 0 0 200px rgba(0, 255, 0, 0.8); }
        }
        
        @keyframes cursorPulse {
            0% { transform: scale(1); opacity: 0.7; box-shadow: 0 0 10px #0f0; }
            50% { transform: scale(1.5); opacity: 1; box-shadow: 0 0 30px #0f0; }
            100% { transform: scale(1); opacity: 0.7; box-shadow: 0 0 10px #0f0; }
        }
        
        @keyframes glitchMove {
            0% { transform: translateY(-100px); }
            100% { transform: translateY(100vh); }
        }
        
        @keyframes pixelFade {
            0%, 100% { opacity: 0; }
            50% { opacity: 1; }
        }
        
        @keyframes wormMove {
            0% { transform: translateX(0) rotate(0deg); }
            100% { transform: translateX(100vw) rotate(360deg); }
        }
        
        .glitch {
            animation: glitchEffect 0.5s infinite;
        }
        
        @keyframes glitchEffect {
            0% { transform: translate(0); }
            20% { transform: translate(-2px, 2px); }
            40% { transform: translate(-2px, -2px); }
            60% { transform: translate(2px, 2px); }
            80% { transform: translate(2px, -2px); }
            100% { transform: translate(0); }
        }
    </style>
</head>
<body class="glitch">
    <canvas class="matrix-bg" id="matrix-bg"></canvas>
    
    <div class="cursor" id="cursor"></div>
    
    <div class="title">
        ПОЛНОЕ ЗАРАЖЕНИЕ
    </div>
    
    <div class="status" id="status">
        Червячки: <span id="worm-count">0</span><br>
        Вирусы: <span id="virus-count">0</span><br>
        Размер дыры: <span id="hole-size">200</span>px
    </div>
    
    <div class="warning" id="warning">
        ВИРУС АКТИВЕН
    </div>

    <script>
        // Элементы DOM
        const matrixBg = document.getElementById('matrix-bg');
        const cursor = document.getElementById('cursor');
        const wormCountElement = document.getElementById('worm-count');
        const virusCountElement = document.getElementById('virus-count');
        const holeSizeElement = document.getElementById('hole-size');
        const statusElement = document.getElementById('status');
        const warningElement = document.getElementById('warning');
        
        // Контекст для матричного фона
        const ctx = matrixBg.getContext('2d');
        
        // Переменные состояния
        let worms = [];
        let viruses = [];
        let holes = [];
        let glitchLines = [];
        let infectedPixels = [];
        let holeSize = 200;
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        let infectionLevel = 0;
        
        // Настройки canvas
        matrixBg.width = window.innerWidth;
        matrixBg.height = window.innerHeight;
        
        // Создание матричного фона
        function createMatrixBackground() {
            const letters = "01アイウエオカキクケコサシスセソタチツテト";
            const fontSize = 16;
            const columns = matrixBg.width / fontSize;
            const drops = [];
            
            for(let i = 0; i < columns; i++) {
                drops[i] = Math.floor(Math.random() * matrixBg.height / fontSize) * fontSize;
            }
            
            function drawMatrix() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.05)';
                ctx.fillRect(0, 0, matrixBg.width, matrixBg.height);
                
                // Разные цвета для матрицы
                const colors = ['#0f0', '#0c0', '#090', '#0f9'];
                ctx.fillStyle = colors[Math.floor(Math.random() * colors.length)];
                ctx.font = `${fontSize}px 'Courier New'`;
                
                for(let i = 0; i < drops.length; i++) {
                    const text = letters[Math.floor(Math.random() * letters.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    
                    if(drops[i] * fontSize > matrixBg.height && Math.random() > 0.97) {
                        drops[i] = 0;
                    }
                    
                    drops[i] += Math.random() * 2;
                }
            }
            
            setInterval(drawMatrix, 50);
            
            window.addEventListener('resize', () => {
                matrixBg.width = window.innerWidth;
                matrixBg.height = window.innerHeight;
            });
        }
        
        // Создание червячка
        function createWorm() {
            const worm = document.createElement('div');
            worm.className = 'worm';
            
            // Случайная начальная позиция
            const startX = Math.random() * window.innerWidth;
            const startY = Math.random() * window.innerHeight;
            
            worm.style.left = `${startX}px`;
            worm.style.top = `${startY}px`;
            
            // Случайный цвет
            const hue = Math.floor(Math.random() * 120 + 60);
            worm.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
            
            // Случайная длина и толщина
            const length = Math.random() * 200 + 100;
            const thickness = Math.random() * 10 + 5;
            
            worm.style.width = `${length}px`;
            worm.style.height = `${thickness}px`;
            
            // Случайное направление и анимация
            const angle = Math.random() * Math.PI * 2;
            const duration = Math.random() * 10 + 10;
            worm.style.transform = `rotate(${angle}rad)`;
            worm.style.animation = `wormMove ${duration}s infinite linear`;
            
            document.body.appendChild(worm);
            
            worms.push(worm);
            updateStats();
            
            // Автоматическое удаление через некоторое время и создание нового
            setTimeout(() => {
                if (document.body.contains(worm)) {
                    document.body.removeChild(worm);
                    worms = worms.filter(w => w !== worm);
                    updateStats();
                    createWorm(); // Создаем нового червячка
                }
            }, 15000 + Math.random() * 10000);
        }
        
        // Создание вируса
        function createVirus() {
            const virus = document.createElement('div');
            virus.className = 'virus';
            
            // Случайная позиция
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            
            virus.style.left = `${x}px`;
            virus.style.top = `${y}px`;
            
            // Случайный размер
            const size = Math.random() * 150 + 80;
            virus.style.width = `${size}px`;
            virus.style.height = `${size}px`;
            
            // Случайный цвет и форма
            const hue = Math.floor(Math.random() * 60);
            virus.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
            
            // Случайная форма
            const shapes = ['50%', '30%', '10%', '0%'];
            virus.style.borderRadius = shapes[Math.floor(Math.random() * shapes.length)];
            
            virus.style.opacity = Math.random() * 0.7 + 0.3;
            
            // Пульсация
            let scale = 1;
            let growing = true;
            
            function pulseVirus() {
                if (growing) {
                    scale += 0.005;
                    if (scale >= 1.5) growing = false;
                } else {
                    scale -= 0.005;
                    if (scale <= 0.5) growing = true;
                }
                
                virus.style.transform = `scale(${scale}) rotate(${scale * 10}deg)`;
                
                if (document.body.contains(virus)) {
                    requestAnimationFrame(pulseVirus);
                }
            }
            
            pulseVirus();
            
            document.body.appendChild(virus);
            viruses.push(virus);
            updateStats();
            
            // Автоматическое удаление через некоторое время и создание нового
            setTimeout(() => {
                if (document.body.contains(virus)) {
                    document.body.removeChild(virus);
                    viruses = viruses.filter(v => v !== virus);
                    updateStats();
                    createVirus(); // Создаем новый вирус
                }
            }, 8000 + Math.random() * 7000);
        }
        
        // Создание дыры
        function createHole() {
            // Удаляем старую дыру, если есть
            holes.forEach(hole => {
                if (document.body.contains(hole)) {
                    document.body.removeChild(hole);
                }
            });
            
            holes = [];
            
            const hole = document.createElement('div');
            hole.className = 'hole';
            
            hole.style.width = `${holeSize}px`;
            hole.style.height = `${holeSize}px`;
            hole.style.left = `${mouseX - holeSize/2}px`;
            hole.style.top = `${mouseY - holeSize/2}px`;
            
            document.body.appendChild(hole);
            holes.push(hole);
        }
        
        // Создание линий глитча
        function createGlitchLine() {
            const line = document.createElement('div');
            line.className = 'glitch-line';
            
            const x = Math.random() * window.innerWidth;
            const width = Math.random() * 5 + 1;
            const height = Math.random() * 100 + 50;
            
            line.style.left = `${x}px`;
            line.style.top = `-100px`;
            line.style.width = `${width}px`;
            line.style.height = `${height}px`;
            
            // Случайный цвет
            const colors = ['#0f0', '#f00', '#0ff'];
            line.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
            
            // Случайная скорость
            const duration = Math.random() * 3 + 1;
            line.style.animation = `glitchMove ${duration}s infinite linear`;
            
            document.body.appendChild(line);
            glitchLines.push(line);
            
            // Автоматическое удаление и создание новой линии
            setTimeout(() => {
                if (document.body.contains(line)) {
                    document.body.removeChild(line);
                    glitchLines = glitchLines.filter(l => l !== line);
                    createGlitchLine();
                }
            }, 3000);
        }
        
        // Создание зараженных пикселей
        function createInfectedPixel() {
            const pixel = document.createElement('div');
            pixel.className = 'infected-pixel';
            
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            const size = Math.random() * 10 + 2;
            
            pixel.style.left = `${x}px`;
            pixel.style.top = `${y}px`;
            pixel.style.width = `${size}px`;
            pixel.style.height = `${size}px`;
            
            // Случайная длительность анимации
            const duration = Math.random() * 4 + 1;
            pixel.style.animation = `pixelFade ${duration}s infinite`;
            
            document.body.appendChild(pixel);
            infectedPixels.push(pixel);
            
            // Автоматическое удаление и создание нового пикселя
            setTimeout(() => {
                if (document.body.contains(pixel)) {
                    document.body.removeChild(pixel);
                    infectedPixels = infectedPixels.filter(p => p !== pixel);
                    createInfectedPixel();
                }
            }, 5000);
        }
        
        // Обновление статистики
        function updateStats() {
            wormCountElement.textContent = worms.length;
            virusCountElement.textContent = viruses.length;
            holeSizeElement.textContent = Math.round(holeSize);
            
            // Увеличиваем уровень заражения
            infectionLevel = worms.length + viruses.length;
            
            // Меняем цвет статуса при высоком уровне заражения
            if (infectionLevel > 30) {
                statusElement.style.borderColor = '#f00';
                statusElement.style.boxShadow = '0 0 30px #f00';
                statusElement.style.color = '#f00';
            } else if (infectionLevel > 20) {
                statusElement.style.borderColor = '#ff0';
                statusElement.style.boxShadow = '0 0 25px #ff0';
                statusElement.style.color = '#ff0';
            }
            
            // Меняем текст предупреждения
            if (infectionLevel > 40) {
                warningElement.textContent = 'КРИТИЧЕСКОЕ ЗАРАЖЕНИЕ';
                warningElement.style.fontSize = '4rem';
            } else if (infectionLevel > 20) {
                warningElement.textContent = 'ВИРУС РАСПРОСТРАНЯЕТСЯ';
            }
        }
        
        // Функция полного заражения
        function fullInfection() {
            // Создаем матричный фон
            createMatrixBackground();
            
            // Создаем дыру
            createHole();
            
            // Создаем много червячков
            for (let i = 0; i < 15; i++) {
                setTimeout(() => createWorm(), i * 300);
            }
            
            // Создаем много вирусов
            for (let i = 0; i < 20; i++) {
                setTimeout(() => createVirus(), i * 200);
            }
            
            // Создаем линии глитча
            for (let i = 0; i < 10; i++) {
                setTimeout(() => createGlitchLine(), i * 500);
            }
            
            // Создаем зараженные пиксели
            for (let i = 0; i < 30; i++) {
                setTimeout(() => createInfectedPixel(), i * 300);
            }
            
            // Автоматическое добавление новых эффектов
            setInterval(() => {
                if (Math.random() > 0.7) createWorm();
                if (Math.random() > 0.5) createVirus();
                if (Math.random() > 0.8) createGlitchLine();
                if (Math.random() > 0.6) createInfectedPixel();
            }, 2000);
            
            updateStats();
        }
        
        // Обработчики событий мыши
        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
            
            // Обновляем позицию курсора
            cursor.style.left = `${mouseX - 15}px`;
            cursor.style.top = `${mouseY - 15}px`;
            
            // Обновляем позицию дыры
            if (holes.length > 0) {
                holes[0].style.left = `${mouseX - holeSize/2}px`;
                holes[0].style.top = `${mouseY - holeSize/2}px`;
            }
            
            // Случайное создание эффектов при движении мыши
            if (Math.random() > 0.95) createVirus();
            if (Math.random() > 0.97) createInfectedPixel();
        });
        
        document.addEventListener('wheel', (e) => {
            // Изменяем размер дыры колесиком мыши
            holeSize += e.deltaY > 0 ? -20 : 20;
            holeSize = Math.max(50, Math.min(500, holeSize));
            
            createHole();
            updateStats();
        });
        
        // Обработчик клика - усиливает заражение
        document.addEventListener('click', (e) => {
            // Создаем взрыв вирусов при клике
            for (let i = 0; i < 5; i++) {
                setTimeout(() => {
                    const virus = document.createElement('div');
                    virus.className = 'virus';
                    
                    virus.style.left = `${e.clientX + (Math.random() - 0.5) * 200}px`;
                    virus.style.top = `${e.clientY + (Math.random() - 0.5) * 200}px`;
                    
                    const size = Math.random() * 80 + 40;
                    virus.style.width = `${size}px`;
                    virus.style.height = `${size}px`;
                    
                    const hue = Math.floor(Math.random() * 360);
                    virus.style.backgroundColor = `hsl(${hue}, 100%, 50%)`;
                    virus.style.borderRadius = '50%';
                    virus.style.opacity = 0.7;
                    
                    document.body.appendChild(virus);
                    viruses.push(virus);
                    
                    // Анимация взрыва
                    let scale = 0.1;
                    function explode() {
                        scale += 0.1;
                        virus.style.transform = `scale(${scale})`;
                        virus.style.opacity = 1 - scale/10;
                        
                        if (scale < 5) {
                            requestAnimationFrame(explode);
                        } else {
                            if (document.body.contains(virus)) {
                                document.body.removeChild(virus);
                                viruses = viruses.filter(v => v !== virus);
                                updateStats();
                            }
                        }
                    }
                    
                    explode();
                    
                    updateStats();
                }, i * 100);
            }
        });
        
        // Инициализация - сразу запускаем полное заражение
        function init() {
            fullInfection();
            
            // Меняем цвет предупреждения каждые 2 секунды
            setInterval(() => {
                const colors = ['#f00', '#0f0', '#ff0', '#0ff', '#f0f'];
                warningElement.style.color = colors[Math.floor(Math.random() * colors.length)];
            }, 2000);
            
            // Случайное изменение размера дыры
            setInterval(() => {
                if (Math.random() > 0.7) {
                    holeSize += (Math.random() - 0.5) * 50;
                    holeSize = Math.max(100, Math.min(400, holeSize));
                    createHole();
                    updateStats();
                }
            }, 3000);
        }
        
        // Запуск при загрузке
        window.addEventListener('load', init);
    </script>
</body>
    </html>
